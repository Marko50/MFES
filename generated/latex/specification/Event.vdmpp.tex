\begin{vdmpp}[breaklines=true]
class Event is subclass of Data
types
-- TODO Define types here
  public String = seq of char;
values
-- TODO Define values here
instance variables
-- TODO Define instance variables here
 private name : String;
 private date : Date;
 private capacity : nat;
 private popularity: nat := 0;
 private tickets : set of nat := {};
  inv card tickets <= capacity;
 private ticketPrice : rat;
operations
-- TODO Define operations here
(*@
\label{Event:18}
@*)
 public Event : String * nat * rat * Date ==> Event
 Event(n, c, p, d) == (
  name := n; 
  capacity := c; 
  ticketPrice := p;
  date := d; 
  return self
 )
 pre p > 0
 post name = n and capacity = c and tickets = {} and popularity = 0;
    
(*@
\label{getName:29}
@*)
 public pure getName : () ==> String
 getName()==(
  return name;
 );
 
(*@
\label{getCapacity:34}
@*)
 public pure getCapacity : () ==> nat
 getCapacity()==(
  return capacity;
 );
 
(*@
\label{getTicketPrice:39}
@*)
 public pure getTicketPrice : () ==> nat
 getTicketPrice()==(
  return ticketPrice;
 );
 
(*@
\label{getFillPercent:44}
@*)
 public pure getFillPercent : () ==> real
 getFillPercent()==(
  return (card (tickets) / capacity ) * 100;
 );
 
(*@
\label{getTickets:49}
@*)
 public pure getTickets : () ==> set of nat
 getTickets() == (
  return tickets;
 );
 
(*@
\label{addTicket:54}
@*)
 public addTicket : nat ==> ()
 addTicket(ticket) == (
  tickets := tickets union {ticket}
 )
 pre card tickets <= capacity and ticket not in set tickets
 post tickets = tickets~ union {ticket};
 
(*@
\label{removeTicket:61}
@*)
 public removeTicket : nat ==> ()
 removeTicket(i) == (
  tickets:= tickets \ {i}; 
 )
 pre i in set tickets
 post tickets = tickets~ \ {i}; 
 
(*@
\label{promote:68}
@*)
 public promote : () ==> ()
 promote() == (
  popularity := popularity + 10;
 )
 pre popularity + 10 <= 100;
 
(*@
\label{getPopularity:74}
@*)
 public getPopularity : () ==> nat
 getPopularity() == (
  return popularity;
 );
 
(*@
\label{getEarnings:79}
@*)
 public getEarnings : () ==> rat
 getEarnings() == (
  return (card tickets) * ticketPrice; 
 );
 
(*@
\label{getDate:84}
@*)
 public getDate : () ==> Date
 getDate() == (
  return date;
 );
 
functions
-- TODO Define functiones here
  
traces
-- TODO Define Combinatorial Test Traces here
end Event
\end{vdmpp}
